(function(){var t={4545:function(t,a,e){"use strict";var n=e(5130),s=e(6768);const i={id:"app",class:"d-flex flex-column vh-100"},l={class:"d-flex flex-grow-1",style:{height:"93%"}},o={class:"flex-grow-1 p-3",style:{width:"85%",height:"100%",overflow:"auto"}};function r(t,a,e,n,r,c){const d=(0,s.g2)("Header"),u=(0,s.g2)("NavBar"),p=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",i,[(0,s.bF)(d,{style:{height:"7%"}}),(0,s.Lk)("div",l,[(0,s.bF)(u,{class:"bg-light p-3",style:{width:"15%"}}),(0,s.Lk)("main",o,[(0,s.bF)(p,{class:"router-view"})])])])}var c=e(4232);const d={class:"d-flex flex-column flex-shrink-0 p-3 bg-light",style:{width:"280px","min-height":"90vh","overflow-y":"auto"}},u={class:"nav nav-pills flex-column mb-auto"},p={class:"nav-item"},h={class:"nav-item"},b={class:"nav-item"},m={class:"nav-item"},k={class:"nav-item"};function f(t,a,e,n,i,l){const o=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",d,[a[0]||(a[0]=(0,s.Lk)("a",{href:"/",class:"d-flex align-items-center mb-3 mb-md-0 me-md-auto link-dark text-decoration-none"},[(0,s.Lk)("span",{class:"fs-4"})],-1)),a[1]||(a[1]=(0,s.Lk)("hr",null,null,-1)),(0,s.Lk)("ul",u,[(0,s.Lk)("li",p,[(0,s.bF)(o,{to:"/",class:"nav-link link-dark"},{default:(0,s.k6)((()=>[(0,s.eW)((0,c.v_)(t.$t("common.navbar.Home")),1)])),_:1})]),(0,s.Lk)("li",h,[(0,s.bF)(o,{to:"/help",class:"nav-link link-dark"},{default:(0,s.k6)((()=>[(0,s.eW)((0,c.v_)(t.$t("common.navbar.Help")),1)])),_:1})]),(0,s.Lk)("li",b,[(0,s.bF)(o,{to:"/GamblersAndDrunkards",class:"nav-link link-dark"},{default:(0,s.k6)((()=>[(0,s.eW)((0,c.v_)(t.$t("common.navbar.GamblersAndDrunkards")),1)])),_:1})]),(0,s.Lk)("li",m,[(0,s.bF)(o,{to:"/SpeedIsKey",class:"nav-link link-dark"},{default:(0,s.k6)((()=>[(0,s.eW)((0,c.v_)(t.$t("common.navbar.SpeedIsKey")),1)])),_:1})]),(0,s.Lk)("li",k,[(0,s.bF)(o,{to:"/Voting",class:"nav-link link-dark"},{default:(0,s.k6)((()=>[(0,s.eW)((0,c.v_)(t.$t("common.navbar.Voting")),1)])),_:1})])])])}var v={name:"NavBar"},g=e(1241);const y=(0,g.A)(v,[["render",f]]);var L=y;const x={class:"d-flex align-items-center justify-content-between p-3 bg-dark text-white shadow"},w={class:"d-flex align-items-center flex-shrink-0"},S={class:"fs-4 fw-bold project-name"},C={class:"d-flex align-items-center flex-shrink-0"},A={class:"d-flex align-items-center flex-shrink-0"},_=["href"];function P(t,a,e,i,l,o){return(0,s.uX)(),(0,s.CE)("header",x,[(0,s.Lk)("div",w,[(0,s.Lk)("span",S,(0,c.v_)(i.projectName),1)]),(0,s.Lk)("div",C,[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=t=>i.searchQuery=t),type:"text",class:"form-control me-2",placeholder:""},null,512),[[n.Jo,i.searchQuery]])]),(0,s.Lk)("div",A,[(0,s.Lk)("a",{href:i.navUrl,target:"_blank",class:"text-white text-decoration-none me-3"},a[2]||(a[2]=[(0,s.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"me-2"},[(0,s.Lk)("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),(0,s.Lk)("polyline",{points:"15 3 21 3 21 9"}),(0,s.Lk)("line",{x1:"10",y1:"14",x2:"21",y2:"3"})],-1)]),8,_),(0,s.Lk)("button",{onClick:a[1]||(a[1]=(...t)=>i.toggleLanguage&&i.toggleLanguage(...t)),class:"btn btn-primary p-1 language-button"},(0,c.v_)("en"===i.currentLanguage?"中":"EN"),1)])])}var V=e(144),I=e(657),$=(e(4114),e(5931)),E=e(9144),B=e(503);const H=(0,$.hU)({locale:"en",fallbackLocale:"zh",messages:{zh:{common:E},en:{common:B}}});async function j(t,a){console.log(`Loading ${t}  pack for ${a}`);try{const n=["common",a],s={};for(const a of n){console.log(`Loading ${a} module for language ${t}`);const n=await e(3612)(`./${t}/${a}.json`);s[a]=n.default||n}H.global.setLocaleMessage(t,s),H.global.availableLocales.push(t)}catch(n){console.error(`Failed to load language pack for ${t}:`,n)}}async function D(t,a){await j(t,a),H.global.locale=t,document.dispatchEvent(new Event("language-change"))}var T=H;const M=(0,I.nY)("language",{state:()=>({locale:"en"}),actions:{async changeLocale(t,a){await D(t,a),this.locale=t}}});var U=e(1387),G={name:"MainHeader",setup(){const t=M(),a="All-Simulator",e=(0,V.KR)(""),n="https://github.com/qinisn/All-Simulator",i=(0,s.EW)((()=>t.locale)),l=(0,U.lq)();function o(){const a="en"===t.locale?"zh":"en",e=l.name||"Unnamed Route";console.log(`${e}`),t.changeLocale(a,e)}return{projectName:a,searchQuery:e,navUrl:n,currentLanguage:i,toggleLanguage:o}}};const O=(0,g.A)(G,[["render",P],["__scopeId","data-v-18aedc4c"]]);var z=O,W={name:"App",components:{NavBar:L,Header:z}};const J=(0,g.A)(W,[["render",r]]);var F=J;const R={class:"pt-3",style:{"font-size":"18px"}};function K(t,a,e,n,i,l){return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.Lk)("h1",null,(0,c.v_)(t.$t("Home.title")),1),(0,s.Lk)("p",R,(0,c.v_)(t.$t("Home.content")),1)])}var X={name:"HomePage",setup(){const t=M(),a=(0,s.EW)((()=>t.locale));return console.log(a.value),(0,s.sV)((()=>{D(a.value,"Home")})),{currentLanguage:a}}};const N=(0,g.A)(X,[["render",K]]);var q=N;const Y={class:"nav nav-tabs",id:"myTab",role:"tablist"},Q={class:"nav-item"},Z={class:"nav-link active",id:"Background-tab","data-bs-toggle":"tab",href:"#Background",role:"tab","aria-controls":"Background","aria-selected":"true"},tt={class:"nav-item"},at={class:"nav-link",id:"Simulator-tab","data-bs-toggle":"tab",href:"#Simulator",role:"tab","aria-controls":"Simulator","aria-selected":"false"},et={class:"nav-item"},nt={class:"nav-link",id:"Settings-tab","data-bs-toggle":"tab",href:"#Settings",role:"tab","aria-controls":"Settings","aria-selected":"false"},st={class:"tab-content",id:"myTabContent"},it={class:"tab-pane fade show active p-4",id:"Background",role:"tabpanel","aria-labelledby":"Background-tab"},lt={style:{"font-size":"18px"}},ot={class:"tab-pane fade p-4",id:"Simulator",role:"tabpanel","aria-labelledby":"Simulator-tab"},rt={style:{"font-size":"18px"}},ct={class:"tab-pane fade p-4",id:"Settings",role:"tabpanel","aria-labelledby":"Settings-tab"},dt={style:{"font-size":"18px"}};function ut(t,a,e,n,i,l){return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.Lk)("ul",Y,[(0,s.Lk)("li",Q,[(0,s.Lk)("a",Z,(0,c.v_)(t.$t("Help.tab1.tab")),1)]),(0,s.Lk)("li",tt,[(0,s.Lk)("a",at,(0,c.v_)(t.$t("Help.tab2.tab")),1)]),(0,s.Lk)("li",et,[(0,s.Lk)("a",nt,(0,c.v_)(t.$t("Help.tab3.tab")),1)])]),(0,s.Lk)("div",st,[(0,s.Lk)("div",it,[(0,s.Lk)("p",lt,(0,c.v_)(t.$t("Help.tab1.description")),1)]),(0,s.Lk)("div",ot,[(0,s.Lk)("p",rt,(0,c.v_)(t.$t("Help.tab2.description")),1)]),(0,s.Lk)("div",ct,[(0,s.Lk)("p",dt,(0,c.v_)(t.$t("Help.tab3.description")),1)])])],64)}var pt={name:"HelpPage",setup(){const t=M(),a=(0,s.EW)((()=>t.locale));return console.log(a.value),(0,s.sV)((()=>{D(a.value,"Help")})),{currentLanguage:a}}};const ht=(0,g.A)(pt,[["render",ut]]);var bt=ht;const mt={class:"d-flex flex-column h-100"},kt={class:"nav nav-tabs",id:"myTab",role:"tablist"},ft={class:"nav-item"},vt={class:"nav-link active",id:"Background-tab","data-bs-toggle":"tab",href:"#Background",role:"tab","aria-controls":"Background","aria-selected":"true"},gt={class:"nav-item"},yt={class:"nav-link",id:"Simulator-tab","data-bs-toggle":"tab",href:"#Simulator",role:"tab","aria-controls":"Simulator","aria-selected":"false"},Lt={class:"nav-item"},xt={class:"nav-link",id:"Guide-tab","data-bs-toggle":"tab",href:"#Guide",role:"tab","aria-controls":"Guide","aria-selected":"false"},wt={class:"tab-content flex-grow-1",id:"myTabContent"},St={class:"tab-pane fade show active p-4",id:"Background",role:"tabpanel","aria-labelledby":"Background-tab"},Ct={style:{"font-size":"18px","white-space":"pre-wrap"}},At={class:"tab-pane fade h-100",id:"Simulator",role:"tabpanel","aria-labelledby":"Simulator-tab"},_t={class:"d-flex h-100"},Pt={class:"bg-light d-flex flex-column",style:{width:"80%"}},Vt={class:"mb-0 p-3"},It={class:"p-3 bg-white shadow-sm d-flex flex-column gap-2",style:{width:"20%",height:"100%",overflow:"auto"}},$t=["disabled"],Et=["disabled"],Bt=["disabled"],Ht={class:"tab-pane fade p-4",id:"Guide",role:"tabpanel","aria-labelledby":"Guide-tab"},jt={style:{"font-size":"18px","white-space":"pre-wrap"}};function Dt(t,a,e,i,l,o){return(0,s.uX)(),(0,s.CE)("div",mt,[(0,s.Lk)("ul",kt,[(0,s.Lk)("li",ft,[(0,s.Lk)("a",vt,(0,c.v_)(t.$t("GamblersAndDrunkards.tab1.tab")),1)]),(0,s.Lk)("li",gt,[(0,s.Lk)("a",yt,(0,c.v_)(t.$t("GamblersAndDrunkards.tab2.tab")),1)]),(0,s.Lk)("li",Lt,[(0,s.Lk)("a",xt,(0,c.v_)(t.$t("GamblersAndDrunkards.tab3.tab")),1)])]),(0,s.Lk)("div",wt,[(0,s.Lk)("div",St,[(0,s.Lk)("p",Ct,(0,c.v_)(t.$t("GamblersAndDrunkards.tab1.description")),1)]),(0,s.Lk)("div",At,[(0,s.Lk)("div",_t,[(0,s.Lk)("div",Pt,[(0,s.Lk)("p",Vt,"Steps: "+(0,c.v_)(l.steps)+"    Position: ("+(0,c.v_)(l.position.x)+", "+(0,c.v_)(l.position.y)+")",1),a[7]||(a[7]=(0,s.Lk)("canvas",{id:"walk-canvas",class:"h-100"},null,-1))]),(0,s.Lk)("div",It,[a[9]||(a[9]=(0,s.Lk)("label",{for:"initial-x",class:"fw-bold"},"Initial Position X:",-1)),(0,s.bo)((0,s.Lk)("input",{id:"initial-x",type:"number","onUpdate:modelValue":a[0]||(a[0]=t=>l.initialX=t),class:"form-control"},null,512),[[n.Jo,l.initialX,void 0,{number:!0}]]),a[10]||(a[10]=(0,s.Lk)("label",{for:"initial-y",class:"fw-bold"},"Initial Position Y:",-1)),(0,s.bo)((0,s.Lk)("input",{id:"initial-y",type:"number","onUpdate:modelValue":a[1]||(a[1]=t=>l.initialY=t),class:"form-control",disabled:l.is1D},null,8,$t),[[n.Jo,l.initialY,void 0,{number:!0}]]),a[11]||(a[11]=(0,s.Lk)("label",{for:"max-position",class:"fw-bold"},"Max Position:",-1)),(0,s.bo)((0,s.Lk)("input",{id:"max-position",type:"number","onUpdate:modelValue":a[2]||(a[2]=t=>l.maxPosition=t),class:"form-control"},null,512),[[n.Jo,l.maxPosition,void 0,{number:!0}]]),a[12]||(a[12]=(0,s.Lk)("label",{for:"interval",class:"fw-bold"},"interval(ms):",-1)),(0,s.bo)((0,s.Lk)("input",{id:"interval",type:"number","onUpdate:modelValue":a[3]||(a[3]=t=>l.interval=t),class:"form-control"},null,512),[[n.Jo,l.interval,void 0,{number:!0}]]),(0,s.Lk)("div",null,[(0,s.Lk)("label",null,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox","onUpdate:modelValue":a[4]||(a[4]=t=>l.is1D=t)},null,512),[[n.lH,l.is1D]]),a[8]||(a[8]=(0,s.eW)(" 1d random walk "))])]),(0,s.Lk)("button",{onClick:a[5]||(a[5]=(...t)=>o.startRandomWalk&&o.startRandomWalk(...t)),disabled:l.isStartButtonDisabled,class:"btn btn-primary"}," Start ",8,Et),(0,s.Lk)("button",{onClick:a[6]||(a[6]=(...t)=>o.pauseRandomWalk&&o.pauseRandomWalk(...t)),disabled:l.isPauseButtonDisabled,class:"btn btn-primary"}," Pause ",8,Bt)])])]),(0,s.Lk)("div",Ht,[(0,s.Lk)("p",jt,(0,c.v_)(t.$t("GamblersAndDrunkards.tab3.description")),1)])])])}var Tt={name:"RandomWalk",data(){return{canvas:null,ctx:null,initialX:0,initialY:0,position:{x:0,y:0},maxPosition:100,ProbabilityToLeft:.5,interval:10,is1D:!1,stepSize:1,steps:0,intervalId:null,isStartButtonDisabled:!1,isPauseButtonDisabled:!0}},setup(){const t=M(),a=(0,s.EW)((()=>t.locale));return console.log(a.value),(0,s.sV)((()=>{D(a.value,"GamblersAndDrunkards")})),{currentLanguage:a}},mounted(){this.initCanvas();const t=document.getElementById("Simulator-tab");t.addEventListener("shown.bs.tab",(()=>{this.resizeCanvas(),this.init()}))},methods:{initCanvas(){this.canvas=document.getElementById("walk-canvas"),this.ctx=this.canvas.getContext("2d")},switchToCanvasTab(){this.activeTab="Simulator",this.$nextTick((()=>{this.resizeCanvas()}))},resizeCanvas(){const t=this.canvas.parentElement;this.canvas.width=t.clientWidth,this.canvas.height=t.clientHeight-56,console.log("resize",this.canvas.height,this.canvas.width)},drawAxis(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),console.log("draw",this.canvas.height,this.canvas.width);const t=this.canvas.width/2,a=this.canvas.height/2;this.ctx.beginPath(),this.ctx.moveTo(0,a),this.ctx.lineTo(this.canvas.width,a),console.log(a),this.ctx.strokeStyle="#333",this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(t,0),this.ctx.lineTo(t,this.canvas.height),this.ctx.strokeStyle="#333",this.ctx.stroke();const e=this.maxPosition+1,n=this.canvas.width/e;for(let s=-this.maxPosition;s<=this.maxPosition;s+=Math.floor(this.maxPosition/20)){const e=t+s*n;this.ctx.beginPath(),this.ctx.moveTo(e,a-5),this.ctx.lineTo(e,a),this.ctx.stroke();const i=a-s*n;this.ctx.beginPath(),this.ctx.moveTo(t,i),this.ctx.lineTo(t+5,i),this.ctx.stroke();const l=s;this.ctx.font="15px Arial",this.ctx.textAlign="center",this.ctx.fillText(l,e,a+20),this.ctx.font="15px Arial",this.ctx.textAlign="right",this.ctx.fillText(l,t-10,i+5)}},drawParticle(){const t=this.canvas.height/2,a=this.canvas.width/2,e=this.maxPosition+1,n=this.canvas.width/e,s=this.position.x*n+a,i=-this.position.y*n+t;this.ctx.beginPath(),this.ctx.arc(s,i,5,0,2*Math.PI),this.ctx.fillStyle="blue",this.ctx.fill()},randomWalk(){if(console.log("randomWalk called"),0==this.position.x&&0==this.position.y&&this.steps>0)return clearInterval(this.intervalId),this.isStartButtonDisabled=!1,this.isPauseButtonDisabled=!0,void console.log("randomWalk stopped");let t;t=this.is1D?[{x:-1,y:0},{x:1,y:0}]:[{x:-1,y:0},{x:1,y:0},{x:0,y:-1},{x:0,y:1}];const a=t[Math.floor(Math.random()*t.length)];this.position.x+=a.x*this.stepSize,this.position.y+=a.y*this.stepSize,this.steps++,this.drawAxis(),this.drawParticle(),console.log(`Moved ${-1===a?"left":"right"}, new position: ${this.position}, steps: ${this.steps}`)},init(){console.log("Initializing..."),this.ProbabilityToLeft=parseFloat(this.ProbabilityToLeft),this.steps=0,this.position.x=parseInt(this.initialX,10),this.position.y=parseInt(this.initialY,10),this.is1D&&(this.position.y=0),this.maxPosition=parseInt(this.maxPosition,10),this.drawAxis(),this.drawParticle(),clearInterval(this.intervalId),this.isStartButtonDisabled=!1,this.isPauseButtonDisabled=!0},startRandomWalk(){console.log("Starting random walk..."),this.init(),this.intervalId=setInterval((()=>this.randomWalk()),this.interval),this.isStartButtonDisabled=!0,this.isPauseButtonDisabled=!1},pauseRandomWalk(){console.log("Pausing random walk..."),clearInterval(this.intervalId),this.isStartButtonDisabled=!1,this.isPauseButtonDisabled=!0}}};const Mt=(0,g.A)(Tt,[["render",Dt]]);var Ut=Mt;const Gt={class:"d-flex flex-column h-100"},Ot={class:"nav nav-tabs",id:"myTab",role:"tablist"},zt={class:"nav-item"},Wt={class:"nav-link active",id:"Background-tab","data-bs-toggle":"tab",href:"#Background",role:"tab","aria-controls":"Background","aria-selected":"true"},Jt={class:"nav-item"},Ft={class:"nav-link",id:"Simulator-tab","data-bs-toggle":"tab",href:"#Simulator",role:"tab","aria-controls":"Simulator","aria-selected":"false"},Rt={class:"nav-item"},Kt={class:"nav-link",id:"Guide-tab","data-bs-toggle":"tab",href:"#Guide",role:"tab","aria-controls":"Guide","aria-selected":"false"},Xt={class:"tab-content flex-grow-1",id:"myTabContent"},Nt={class:"tab-pane fade show active p-4",id:"Background",role:"tabpanel","aria-labelledby":"Background-tab"},qt={style:{"font-size":"18px","white-space":"pre-wrap"}},Yt={class:"tab-pane fade p-4",id:"Guide",role:"tabpanel","aria-labelledby":"Guide-tab"},Qt={style:{"font-size":"18px","white-space":"pre-wrap"}},Zt={class:"tab-pane fade h-100",id:"Simulator",role:"tabpanel","aria-labelledby":"Simulator-tab"},ta={class:"battle-simulator"},aa={class:"row"},ea={class:"col-md-8"},na={id:"battlefield",ref:"battlefield"},sa={class:"col-md-4"},ia={class:"row"},la={class:"col-md-6"},oa={class:"form-group"},ra={class:"form-group"},ca={class:"form-group"},da={class:"form-group"},ua={class:"form-group"},pa={class:"form-group"},ha={class:"col-md-6"},ba={class:"form-group"},ma={class:"form-group"},ka={class:"form-group"},fa={class:"form-group"},va={class:"form-group"},ga={class:"form-group"};function ya(t,a,e,i,l,o){return(0,s.uX)(),(0,s.CE)("div",Gt,[(0,s.Lk)("ul",Ot,[(0,s.Lk)("li",zt,[(0,s.Lk)("a",Wt,(0,c.v_)(t.$t("SpeedIsKey.tab1.tab")),1)]),(0,s.Lk)("li",Jt,[(0,s.Lk)("a",Ft,(0,c.v_)(t.$t("SpeedIsKey.tab2.tab")),1)]),(0,s.Lk)("li",Rt,[(0,s.Lk)("a",Kt,(0,c.v_)(t.$t("SpeedIsKey.tab3.tab")),1)])]),(0,s.Lk)("div",Xt,[(0,s.Lk)("div",Nt,[(0,s.Lk)("p",qt,(0,c.v_)(t.$t("SpeedIsKey.tab1.description")),1)]),(0,s.Lk)("div",Yt,[(0,s.Lk)("p",Qt,(0,c.v_)(t.$t("SpeedIsKey.tab3.description")),1)]),(0,s.Lk)("div",Zt,[(0,s.Lk)("div",ta,[(0,s.Lk)("div",aa,[(0,s.Lk)("div",ea,[(0,s.Lk)("div",na,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.units,(t=>((0,s.uX)(),(0,s.CE)("div",{key:t.id,class:"unit",style:(0,c.Tr)({left:t.position.x+"px",top:t.position.y+"px"})},[(0,s.Lk)("div",{class:"unit-border",style:(0,c.Tr)({borderColor:t.color,width:2*t.radius+"px",height:2*t.radius+"px"})},null,4),(0,s.Lk)("div",{class:(0,c.C4)(["unit-circle",{flashing:t.isFlashing}]),style:(0,c.Tr)({width:2*t.radius+"px",height:2*t.radius+"px",backgroundColor:t.color,opacity:t.health/100})},null,6)],4)))),128))],512)]),(0,s.Lk)("div",sa,[(0,s.Lk)("div",ia,[(0,s.Lk)("div",la,[a[19]||(a[19]=(0,s.Lk)("h2",null,"Unit 1",-1)),(0,s.Lk)("div",oa,[a[13]||(a[13]=(0,s.Lk)("label",{for:"unit1Health"},"Health:",-1)),(0,s.bo)((0,s.Lk)("input",{type:"number",id:"unit1Health","onUpdate:modelValue":a[0]||(a[0]=t=>l.unit1.health=t),class:"form-control",placeholder:"Health"},null,512),[[n.Jo,l.unit1.health]])]),(0,s.Lk)("div",ra,[a[14]||(a[14]=(0,s.Lk)("label",{for:"unit1Attack"},"Attack:",-1)),(0,s.bo)((0,s.Lk)("input",{type:"number",id:"unit1Attack","onUpdate:modelValue":a[1]||(a[1]=t=>l.unit1.attack=t),class:"form-control",placeholder:"Attack"},null,512),[[n.Jo,l.unit1.attack]])]),(0,s.Lk)("div",ca,[a[15]||(a[15]=(0,s.Lk)("label",{for:"unit1Speed"},"Speed:",-1)),(0,s.bo)((0,s.Lk)("input",{type:"number",id:"unit1Speed","onUpdate:modelValue":a[2]||(a[2]=t=>l.unit1.speed=t),class:"form-control",placeholder:"Speed"},null,512),[[n.Jo,l.unit1.speed]])]),(0,s.Lk)("div",da,[a[16]||(a[16]=(0,s.Lk)("label",{for:"unit1Range"},"Range:",-1)),(0,s.bo)((0,s.Lk)("input",{type:"number",id:"unit1Range","onUpdate:modelValue":a[3]||(a[3]=t=>l.unit1.range=t),class:"form-control",placeholder:"Range"},null,512),[[n.Jo,l.unit1.range]])]),(0,s.Lk)("div",ua,[a[17]||(a[17]=(0,s.Lk)("label",{for:"unit1AttackSpeed"},"Attack Speed:",-1)),(0,s.bo)((0,s.Lk)("input",{type:"number",id:"unit1AttackSpeed","onUpdate:modelValue":a[4]||(a[4]=t=>l.unit1.attackSpeed=t),class:"form-control",placeholder:"Attack Speed"},null,512),[[n.Jo,l.unit1.attackSpeed]])]),(0,s.Lk)("div",pa,[a[18]||(a[18]=(0,s.Lk)("label",{for:"unit1Count"},"Count:",-1)),(0,s.bo)((0,s.Lk)("input",{type:"number",id:"unit1Count","onUpdate:modelValue":a[5]||(a[5]=t=>l.unit1.count=t),class:"form-control",placeholder:"Count"},null,512),[[n.Jo,l.unit1.count]])])]),(0,s.Lk)("div",ha,[a[26]||(a[26]=(0,s.Lk)("h2",null,"Unit 2",-1)),(0,s.Lk)("div",ba,[a[20]||(a[20]=(0,s.Lk)("label",{for:"unit2Health"},"Health:",-1)),(0,s.bo)((0,s.Lk)("input",{type:"number",id:"unit2Health","onUpdate:modelValue":a[6]||(a[6]=t=>l.unit2.health=t),class:"form-control",placeholder:"Health"},null,512),[[n.Jo,l.unit2.health]])]),(0,s.Lk)("div",ma,[a[21]||(a[21]=(0,s.Lk)("label",{for:"unit2Attack"},"Attack:",-1)),(0,s.bo)((0,s.Lk)("input",{type:"number",id:"unit2Attack","onUpdate:modelValue":a[7]||(a[7]=t=>l.unit2.attack=t),class:"form-control",placeholder:"Attack"},null,512),[[n.Jo,l.unit2.attack]])]),(0,s.Lk)("div",ka,[a[22]||(a[22]=(0,s.Lk)("label",{for:"unit2Speed"},"Speed:",-1)),(0,s.bo)((0,s.Lk)("input",{type:"number",id:"unit2Speed","onUpdate:modelValue":a[8]||(a[8]=t=>l.unit2.speed=t),class:"form-control",placeholder:"Speed"},null,512),[[n.Jo,l.unit2.speed]])]),(0,s.Lk)("div",fa,[a[23]||(a[23]=(0,s.Lk)("label",{for:"unit2Range"},"Range:",-1)),(0,s.bo)((0,s.Lk)("input",{type:"number",id:"unit2Range","onUpdate:modelValue":a[9]||(a[9]=t=>l.unit2.range=t),class:"form-control",placeholder:"Range"},null,512),[[n.Jo,l.unit2.range]])]),(0,s.Lk)("div",va,[a[24]||(a[24]=(0,s.Lk)("label",{for:"unit2AttackSpeed"},"Attack Speed:",-1)),(0,s.bo)((0,s.Lk)("input",{type:"number",id:"unit2AttackSpeed","onUpdate:modelValue":a[10]||(a[10]=t=>l.unit2.attackSpeed=t),class:"form-control",placeholder:"Attack Speed"},null,512),[[n.Jo,l.unit2.attackSpeed]])]),(0,s.Lk)("div",ga,[a[25]||(a[25]=(0,s.Lk)("label",{for:"unit2Count"},"Count:",-1)),(0,s.bo)((0,s.Lk)("input",{type:"number",id:"unit2Count","onUpdate:modelValue":a[11]||(a[11]=t=>l.unit2.count=t),class:"form-control",placeholder:"Count"},null,512),[[n.Jo,l.unit2.count]])])])]),(0,s.Lk)("button",{onClick:a[12]||(a[12]=(...t)=>o.startSimulation&&o.startSimulation(...t)),class:"btn btn-primary mt-3"},"Start")])])])])])])}e(8992),e(4520),e(3949),e(8872);var La={setup(){const t=M(),a=(0,s.EW)((()=>t.locale));return console.log(a.value),(0,s.sV)((()=>{D(a.value,"SpeedIsKey")})),{currentLanguage:a}},data(){return{unit1:{health:100,attack:20,speed:10,range:50,attackSpeed:5,count:5},unit2:{health:100,attack:20,speed:50,range:50,attackSpeed:5,count:5},units:[],intervalId:null}},methods:{startSimulation(){this.intervalId&&clearInterval(this.intervalId),this.units=[],this.createUnits("unit1",!0),this.createUnits("unit2",!1),this.startBattle()},createUnits(t,a){const e=this[t],n=this.$refs.battlefield.offsetWidth,s=this.$refs.battlefield.offsetHeight;for(let i=0;i<e.count;i++){let l=a?30:n+10,o=30+Math.random()*(s-20),r=!0;while(r)r=!1,this.units.forEach((t=>{const a=t.radius,e=10,n=Math.sqrt(Math.pow(l-t.position.x,2)+Math.pow(o-t.position.y,2));n<a+e&&(r=!0,o=30+Math.random()*(s-20))}));const c={id:`${t}-${i}`,health:e.health,initialHealth:e.health,attack:e.attack,speed:e.speed,range:e.range,attackSpeed:e.attackSpeed,position:{x:l,y:o},color:"unit1"===t?"red":"blue",radius:10,target:null,lastAttackTime:0,isFlashing:!1};this.units.push(c)}},startBattle(){this.intervalId=setInterval((()=>{const t=[];this.units.forEach((t=>{t.health<=0&&(this.units=this.units.filter((a=>a!==t)))})),this.units=this.units.sort((()=>Math.random()-.5)),this.units.forEach((a=>{if(a.target=this.units.filter((t=>t.id!==a.id&&t.id.split("-")[0]!==a.id.split("-")[0]&&t.health>0)).reduce(((t,e)=>{const n=this.calculateDistance(a,e),s=t?this.calculateDistance(a,t):1/0;return n<s?e:t}),null),a.target){const e=this.calculateDistance(a,a.target);if(e<=a.range)Date.now()-a.lastAttackTime>=1e3/a.attackSpeed&&(t.push({attacker:a,target:a.target}),a.lastAttackTime=Date.now(),a.isFlashing=!0,setTimeout((()=>{a.isFlashing=!1}),100));else{const t=(a.target.position.x-a.position.x)/e,n=(a.target.position.y-a.position.y)/e,s=a.position.x+t*a.speed,i=a.position.y+n*a.speed;let l=!0;if(this.units.forEach((t=>{if(a!==t){const e=Math.sqrt(Math.pow(s-t.position.x,2)+Math.pow(i-t.position.y,2))-t.radius-a.radius;e<0&&(l=!1)}})),l)a.position.x+=t*a.speed,a.position.y+=n*a.speed;else{const e=Math.atan2(n,t),s=[e+Math.PI/4,e-Math.PI/4,e+Math.PI/2,e-Math.PI/2];for(const t of s){const e=Math.cos(t),n=Math.sin(t),s=a.position.x+e*a.speed,i=a.position.y+n*a.speed;let l=!0;if(this.units.forEach((t=>{if(a!==t){const e=t.radius,n=a.radius,o=Math.sqrt(Math.pow(s-t.position.x,2)+Math.pow(i-t.position.y,2))-e-n;o<0&&(l=!1)}})),l){a.position.x=s,a.position.y=i;break}}}}}})),t.forEach((t=>{t.target.health-=t.attacker.attack})),this.units.length<2&&clearInterval(this.intervalId)}),30)},calculateDistance(t,a){const e=t.radius,n=a.radius,s=Math.sqrt(Math.pow(t.position.x-a.position.x,2)+Math.pow(t.position.y-a.position.y,2));return s-e-n}}};const xa=(0,g.A)(La,[["render",ya],["__scopeId","data-v-78347736"]]);var wa=xa;const Sa={class:"d-flex flex-column h-100"},Ca={class:"nav nav-tabs",id:"myTab",role:"tablist"},Aa={class:"nav-item"},_a={class:"nav-link active",id:"Background-tab","data-bs-toggle":"tab",href:"#Background",role:"tab","aria-controls":"Background","aria-selected":"true"},Pa={class:"nav-item"},Va={class:"nav-link",id:"Simulator-tab","data-bs-toggle":"tab",href:"#Simulator",role:"tab","aria-controls":"Simulator","aria-selected":"false"},Ia={class:"nav-item"},$a={class:"nav-link",id:"Guide-tab","data-bs-toggle":"tab",href:"#Guide",role:"tab","aria-controls":"Guide","aria-selected":"false"},Ea={class:"tab-content flex-grow-1",id:"myTabContent"},Ba={class:"tab-pane fade show active p-4",id:"Background",role:"tabpanel","aria-labelledby":"Background-tab"},Ha={style:{"font-size":"18px","white-space":"pre-wrap"}},ja={class:"tab-pane fade p-4",id:"Guide",role:"tabpanel","aria-labelledby":"Guide-tab"},Da={style:{"font-size":"18px","white-space":"pre-wrap"}},Ta={class:"tab-pane fade p-4",id:"Simulator",role:"tabpanel","aria-labelledby":"Simulator-tab"},Ma={class:"row"},Ua={class:"col-8"},Ga={id:"chart"},Oa={ref:"chartCanvas"},za={class:"col-4"},Wa={class:"card"},Ja={class:"card-body",style:{"max-height":"70vh","overflow-y":"auto"}},Fa={key:0,class:"border-top my-2"},Ra={class:"d-flex justify-content-between align-items-center mb-2"},Ka={class:"mb-0"},Xa=["onClick"],Na={class:"row g-2"},qa={class:"col-6"},Ya=["onUpdate:modelValue"],Qa={class:"col-6"},Za=["onUpdate:modelValue"],te={class:"col-6"},ae=["onUpdate:modelValue"],ee={class:"col-6"},ne=["onUpdate:modelValue"];function se(t,a,e,i,l,o){return(0,s.uX)(),(0,s.CE)("div",Sa,[(0,s.Lk)("ul",Ca,[(0,s.Lk)("li",Aa,[(0,s.Lk)("a",_a,(0,c.v_)(t.$t("Voting.tab1.tab")),1)]),(0,s.Lk)("li",Pa,[(0,s.Lk)("a",Va,(0,c.v_)(t.$t("Voting.tab2.tab")),1)]),(0,s.Lk)("li",Ia,[(0,s.Lk)("a",$a,(0,c.v_)(t.$t("Voting.tab3.tab")),1)])]),(0,s.Lk)("div",Ea,[(0,s.Lk)("div",Ba,[(0,s.Lk)("p",Ha,(0,c.v_)(t.$t("Voting.tab1.description")),1)]),(0,s.Lk)("div",ja,[(0,s.Lk)("p",Da,(0,c.v_)(t.$t("Voting.tab3.description")),1)]),(0,s.Lk)("div",Ta,[(0,s.Lk)("div",Ma,[(0,s.Lk)("div",Ua,[(0,s.Lk)("div",Ga,[(0,s.Lk)("canvas",Oa,null,512)])]),(0,s.Lk)("div",za,[(0,s.Lk)("div",Wa,[a[6]||(a[6]=(0,s.Lk)("div",{class:"card-header"},[(0,s.Lk)("h5",{class:"card-title"},"参数设置")],-1)),(0,s.Lk)("div",Ja,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(l.learnerClasses,((t,e)=>((0,s.uX)(),(0,s.CE)("div",{key:e,class:"mb-3"},[e>0?((0,s.uX)(),(0,s.CE)("div",Fa)):(0,s.Q3)("",!0),(0,s.Lk)("div",Ra,[(0,s.Lk)("h6",Ka,"class "+(0,c.v_)(e+1),1),(0,s.Lk)("button",{onClick:t=>o.removeClass(e),class:"btn btn-sm p-0 border",style:{width:"24px",height:"24px"}},"×",8,Xa)]),(0,s.Lk)("div",Na,[(0,s.Lk)("div",qa,[a[2]||(a[2]=(0,s.Lk)("label",{class:"small"},"accuracy",-1)),(0,s.bo)((0,s.Lk)("input",{type:"number","onUpdate:modelValue":a=>t.accuracy=a,class:"form-control form-control-sm",min:"0",max:"1",step:"0.01"},null,8,Ya),[[n.Jo,t.accuracy]])]),(0,s.Lk)("div",Qa,[a[3]||(a[3]=(0,s.Lk)("label",{class:"small"},"amount",-1)),(0,s.bo)((0,s.Lk)("input",{type:"number","onUpdate:modelValue":a=>t.count=a,class:"form-control form-control-sm",min:"1"},null,8,Za),[[n.Jo,t.count]])]),(0,s.Lk)("div",te,[a[4]||(a[4]=(0,s.Lk)("label",{class:"small"},"conformity rate",-1)),(0,s.bo)((0,s.Lk)("input",{type:"number","onUpdate:modelValue":a=>t.conformity=a,class:"form-control form-control-sm",min:"0",max:"1",step:"0.01"},null,8,ae),[[n.Jo,t.conformity]])]),(0,s.Lk)("div",ee,[a[5]||(a[5]=(0,s.Lk)("label",{class:"small"},"weight",-1)),(0,s.bo)((0,s.Lk)("input",{type:"number","onUpdate:modelValue":a=>t.weight=a,class:"form-control form-control-sm",min:"0",step:"0.1"},null,8,ne),[[n.Jo,t.weight]])])])])))),128)),(0,s.Lk)("button",{onClick:a[0]||(a[0]=(...t)=>o.addClass&&o.addClass(...t)),class:"btn btn-primary btn-sm w-100"},"+ 添加类别"),(0,s.Lk)("button",{onClick:a[1]||(a[1]=(...t)=>o.simulate&&o.simulate(...t)),class:"btn btn-success btn-sm mt-2 w-100"},"模拟")])])])])])])])}e(1454);var ie=e(3456),le={name:"VotingApp",setup(){const t=M(),a=(0,s.EW)((()=>t.locale));return console.log(a.value),(0,s.sV)((()=>{D(a.value,"Voting")})),{currentLanguage:a}},data(){return{learnerClasses:[{accuracy:.7,count:10,conformity:0,weight:1}],chart:null,results:{majorityVoteAccuracy:0,individualAccuracies:[]}}},methods:{addClass(){this.learnerClasses.push({accuracy:.7,count:10,conformity:0,weight:1})},removeClass(t){this.learnerClasses.splice(t,1)},simulate(){const t=1e3,a=Array(this.learnerClasses.length).fill(0);let e=0;const n=Array(this.learnerClasses.length).fill(0);for(let s=0;s<t;s++){let t=0,s=0;do{t=0,s=0,this.learnerClasses.forEach(((e,i)=>{const{accuracy:l,count:o,conformity:r,weight:c}=e,d=this.generateClassResults(o,l,r),u=d.filter((t=>1===t)).length;t+=c*o,s+=c*u,a[i]+=u/o,n[i]+=1}))}while(s===t/2);const i=s>t/2?1:0;e+=i}this.results.majorityVoteAccuracy=e/t,this.results.individualAccuracies=a.map(((t,a)=>t/n[a])),this.renderChart()},generateClassResults(t,a,e){const n=[],s=Math.random(),i=s<a?1:0;for(let l=0;l<t;l++)if(Math.random()<e)n.push(i);else{const t=Math.random();n.push(t<a?1:0)}return n},renderChart(){const t=this.$refs.chartCanvas.getContext("2d");this.chart&&this.chart.destroy(),this.chart=new ie.Ay(t,{type:"bar",data:{labels:["多数投票",...this.learnerClasses.map(((t,a)=>`类别 ${a+1}`))],datasets:[{label:"正确率",data:[this.results.majorityVoteAccuracy,...this.results.individualAccuracies],backgroundColor:["rgba(75, 192, 192, 0.2)",...this.learnerClasses.map((()=>"rgba(153, 102, 255, 0.2)"))],borderColor:["rgba(75, 192, 192, 1)",...this.learnerClasses.map((()=>"rgba(153, 102, 255, 1)"))],borderWidth:1}]},options:{scales:{y:{beginAtZero:!0,max:1}}}})}}};const oe=(0,g.A)(le,[["render",se],["__scopeId","data-v-6fb74a64"]]);var re=oe;const ce=[{path:"/",component:q,name:"Home"},{path:"/help",component:bt,name:"Help"},{path:"/GamblersAndDrunkards",component:Ut,name:"GamblersAndDrunkards"},{path:"/SpeedIsKey",component:wa,name:"SpeedIsKey"},{path:"/Voting",component:re,name:"Voting"}],de=(0,U.aE)({history:(0,U.Bt)(),routes:ce});var ue=de;e(323);(0,n.Ef)(F).use(ue).use(T).use((0,I.Ey)()).mount("#app")},3612:function(t,a,e){var n={"./en/GamblersAndDrunkards.json":[7650,650],"./en/Help.json":[7773,773],"./en/Home.json":[9349,349],"./en/SpeedIsKey.json":[9088,88],"./en/Voting.json":[3921,921],"./en/common.json":[503],"./zh/GamblersAndDrunkards.json":[8605,605],"./zh/Help.json":[3082,82],"./zh/Home.json":[5158,158],"./zh/SpeedIsKey.json":[3083,83],"./zh/Voting.json":[9782,782],"./zh/common.json":[9144]};function s(t){if(!e.o(n,t))return Promise.resolve().then((function(){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}));var a=n[t],s=a[0];return Promise.all(a.slice(1).map(e.e)).then((function(){return e.t(s,19)}))}s.keys=function(){return Object.keys(n)},s.id=3612,t.exports=s},503:function(t){"use strict";t.exports=JSON.parse('{"header":{"hello":"你好，世界","welcome":""},"navbar":{"Home":"Home","Help":"Help","GamblersAndDrunkards":"Gamblers And Drunkards","SpeedIsKey":"Speed Is Key","Voting":"Voting"}}')},9144:function(t){"use strict";t.exports=JSON.parse('{"header":{"hello":"你好，世界","welcome":""},"navbar":{"Home":"主页","Help":"帮助","GamblersAndDrunkards":"赌鬼和醉汉","SpeedIsKey":"兵贵神速","Voting":"投票"}}')}},a={};function e(n){var s=a[n];if(void 0!==s)return s.exports;var i=a[n]={exports:{}};return t[n].call(i.exports,i,i.exports,e),i.exports}e.m=t,function(){var t=[];e.O=function(a,n,s,i){if(!n){var l=1/0;for(d=0;d<t.length;d++){n=t[d][0],s=t[d][1],i=t[d][2];for(var o=!0,r=0;r<n.length;r++)(!1&i||l>=i)&&Object.keys(e.O).every((function(t){return e.O[t](n[r])}))?n.splice(r--,1):(o=!1,i<l&&(l=i));if(o){t.splice(d--,1);var c=s();void 0!==c&&(a=c)}}return a}i=i||0;for(var d=t.length;d>0&&t[d-1][2]>i;d--)t[d]=t[d-1];t[d]=[n,s,i]}}(),function(){e.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(a,{a:a}),a}}(),function(){var t,a=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};e.t=function(n,s){if(1&s&&(n=this(n)),8&s)return n;if("object"===typeof n&&n){if(4&s&&n.__esModule)return n;if(16&s&&"function"===typeof n.then)return n}var i=Object.create(null);e.r(i);var l={};t=t||[null,a({}),a([]),a(a)];for(var o=2&s&&n;"object"==typeof o&&!~t.indexOf(o);o=a(o))Object.getOwnPropertyNames(o).forEach((function(t){l[t]=function(){return n[t]}}));return l["default"]=function(){return n},e.d(i,l),i}}(),function(){e.d=function(t,a){for(var n in a)e.o(a,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:a[n]})}}(),function(){e.f={},e.e=function(t){return Promise.all(Object.keys(e.f).reduce((function(a,n){return e.f[n](t,a),a}),[]))}}(),function(){e.u=function(t){return"js/"+t+"."+{82:"18f50b46",83:"bdd69b3f",88:"0bbdd580",158:"222a2dd8",349:"143aaab2",605:"49ba8a53",650:"5c9d9b4c",773:"2d7b6ab3",782:"f2efc635",921:"faee6bef"}[t]+".js"}}(),function(){e.miniCssF=function(t){}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)}}(),function(){var t={},a="all_simulator:";e.l=function(n,s,i,l){if(t[n])t[n].push(s);else{var o,r;if(void 0!==i)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==a+i){o=u;break}}o||(r=!0,o=document.createElement("script"),o.charset="utf-8",o.timeout=120,e.nc&&o.setAttribute("nonce",e.nc),o.setAttribute("data-webpack",a+i),o.src=n),t[n]=[s];var p=function(a,e){o.onerror=o.onload=null,clearTimeout(h);var s=t[n];if(delete t[n],o.parentNode&&o.parentNode.removeChild(o),s&&s.forEach((function(t){return t(e)})),a)return a(e)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=p.bind(null,o.onerror),o.onload=p.bind(null,o.onload),r&&document.head.appendChild(o)}}}(),function(){e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){e.p="/"}(),function(){var t={524:0};e.f.j=function(a,n){var s=e.o(t,a)?t[a]:void 0;if(0!==s)if(s)n.push(s[2]);else{var i=new Promise((function(e,n){s=t[a]=[e,n]}));n.push(s[2]=i);var l=e.p+e.u(a),o=new Error,r=function(n){if(e.o(t,a)&&(s=t[a],0!==s&&(t[a]=void 0),s)){var i=n&&("load"===n.type?"missing":n.type),l=n&&n.target&&n.target.src;o.message="Loading chunk "+a+" failed.\n("+i+": "+l+")",o.name="ChunkLoadError",o.type=i,o.request=l,s[1](o)}};e.l(l,r,"chunk-"+a,a)}},e.O.j=function(a){return 0===t[a]};var a=function(a,n){var s,i,l=n[0],o=n[1],r=n[2],c=0;if(l.some((function(a){return 0!==t[a]}))){for(s in o)e.o(o,s)&&(e.m[s]=o[s]);if(r)var d=r(e)}for(a&&a(n);c<l.length;c++)i=l[c],e.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return e.O(d)},n=self["webpackChunkall_simulator"]=self["webpackChunkall_simulator"]||[];n.forEach(a.bind(null,0)),n.push=a.bind(null,n.push.bind(n))}();var n=e.O(void 0,[504],(function(){return e(4545)}));n=e.O(n)})();
//# sourceMappingURL=app.a80ee49b.js.map